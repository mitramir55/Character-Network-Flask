{% extends "base.html" %}

{% block content %}
<div class="col-lg-6 order-lg-1">
  <div class="p-5">

</div></div>
    <div class="p-5">
        <h2 class="display-4">Let's get started!</h2>
    <p> please input the book information:</p>
        </div>
  <div class="masthead-content">
    <div class="container px-5">

  <form action="#" method="post" enctype="multipart/form-data">
    <p>Book title: <input type="text" name="book_title"></p>
    <p>Book content: <input type="file" name="book_content" ></p>


      <p>If this book has any chapters please write one sample of it in the box bellow.
        For example, if in the beginning of each chapter we have: "CHAPTER ..." write "CHAPTER" in the box.
      If not, just type: "no chapter".</p>
      <p><input type="text", name="chapter_regex"></p>
    <input type="submit" name="submit" value="Submit Book Info"  class="btn btn-success">
      <br>    <br>
    </form>



  {% if received %}
  <br>
    &#10004; {{" Your files have been received successfully!"}}
    <br><br>
      <p>This book has {{length}} sentences! </p>

      <!-- In here goes the other info of this book from google and goodreads-->
      <hr>
      <h5>Sentiment Analysis</h5>
       <p>In this section we either use 
        <a href="https://github.com/fnielsen/afinn">Afinn</a> or 
        <a href="https://huggingface.co/docs/transformers/master/index"> Transformers</a></p>

    <button type="button" class="collapsible"><h6>Afinn or Transformers?!</h6></button>
    <div class="content_">
      <br>
        <p>Afinn is the simplest yet popular lexicons tool used for sentiment analysis.
          It contains 3300+ words with a polarity score associated with each word. 
        In python, there is an in-built function for this lexicon. Although small and fast,
      this package cannot accurately decide the emotions in a bit complicated sentences.

     On the other hand, TransformersðŸ¤— models are bigger, but more reliable. They're basically 
        neurons which had to learn the language and decide whether a text is relaying positive or
      negative feelings or some emotion in between. </p>
    </div>
    <br> <br>
    <form action="#"  method="post" enctype="multipart/form-data">
    <input type="submit" name="submit" value="Go with TransformerS!"  class="btn btn-success">
    </form>

        <br>
        <br>
        <p>Distribution of sentences' emotions in this novel: </p>
        <p><span style="color: rgb(20, 190, 97);">Positive:  </span> {{ emotions_count['POSITIVE'] }}</p> 
        <p><span style="color: rgb(0, 140, 255);">Neutral:  </span>  {{ emotions_count['NEUTRAL'] }}</p> 
        <p><span style="color: rgb(114, 35, 88);">Negative:  </span> {{ emotions_count['NEGATIVE'] }}</p> 





    {% endif %}
  

</div>
</div>
{% endblock %}
